---
title: Diagrammes d'Architecture (C4 + Flux)
description: G√©n√®re des diagrammes Mermaid clairs et coh√©rents pour l'architecture
agents: ["architecte", "business-analyst", "developpeur"]
variables:
  - name: system_name
    description: "Nom du syst√®me"
    required: true
  - name: context
    description: "Contexte et objectifs du diagramme"
    required: true
  - name: actors
    description: "Acteurs principaux"
    required: false
  - name: externals
    description: "Syst√®mes externes"
    required: false
---

# üß≠ Diagrammes d'Architecture

**Syst√®me**: {{system_name}}

**Contexte**: {{context}}

{{#if actors}}
**Acteurs**: {{actors}}
{{/if}}

{{#if externals}}
**Syst√®mes externes**: {{externals}}
{{/if}}

## ‚úÖ √Ä produire

1. **C4 Context (Niveau 1)**
2. **C4 Container (Niveau 2)**
3. **Data Flow** (ingestion ‚Üí traitement ‚Üí stockage ‚Üí consommation)

## 1) C4 Context

```mermaid
C4Context
    title System Context - {{system_name}}
    Person(user, "Utilisateur", "Utilise le syst√®me")
    System(system, "{{system_name}}", "Syst√®me principal")
    System_Ext(ext, "Syst√®me externe", "Syst√®me tiers")
    Rel(user, system, "Utilise")
    Rel(system, ext, "√âchange de donn√©es")
```

## 2) C4 Container

```mermaid
C4Container
    title Container Diagram - {{system_name}}
    Person(user, "Utilisateur")
    System_Boundary(sb, "{{system_name}}") {
      Container(app, "App", "Web/API", "Interface utilisateur")
      Container(api, "API", "REST", "Services m√©tier")
      ContainerDb(db, "DB", "SQL/NoSQL", "Stockage")
    }
    Rel(user, app, "Utilise")
    Rel(app, api, "Appelle")
    Rel(api, db, "Lit/√âcrit")
```

## 3) Data Flow

```mermaid
flowchart LR
  Sources[Sources] --> Ingestion[Ingestion]
  Ingestion --> Processing[Processing]
  Processing --> Storage[Storage]
  Storage --> Consumption[Consumption]
```

---

## ‚úÖ Crit√®res Qualit√©
- Clart√©: un diagramme = un message
- L√©gendes explicites
- Niveaux d'abstraction respect√©s
- Coh√©rence avec le TAD

**Output**: Fichier `docs/architecture/diagrams/{{system_name}}-diagrams.md`
